(()=>{"use strict";const e=window.React,t=window.wp.blocks,o=window.wp.i18n,l=window.wp.blockEditor,n=window.wp.components,r=window.wp.data;(0,t.registerBlockType)("similar-posts/block",{title:(0,o.__)("Slične Objave","similar-posts-plugin"),icon:"admin-post",category:"widgets",attributes:{postsToShow:{type:"number",default:2}},edit:({attributes:t,setAttributes:a})=>{const{postsToShow:i}=t,s=(0,l.useBlockProps)(),c=wp.data.select("core/editor").getCurrentPostId(),p=(0,r.useSelect)((e=>{const{getEntityRecords:t}=e("core"),{getEditedPostAttribute:o}=e("core/editor"),l=o("categories");return l&&0!==l.length?t("postType","post",{per_page:i,exclude:[c],categories:l}):[]}),[i]);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(l.InspectorControls,null,(0,e.createElement)(n.PanelBody,{title:(0,o.__)("Podešavanja","similar-posts-plugin")},(0,e.createElement)(n.RangeControl,{label:(0,o.__)("Broj objava za prikaz","similar-posts-plugin"),value:i,onChange:e=>a({postsToShow:e}),min:1,max:4}))),p?p.length>0?(0,e.createElement)("ul",{...s},p.map((t=>(0,e.createElement)("li",{key:t.id},(0,e.createElement)("a",{href:t.link},t.title.rendered))))):(0,e.createElement)(n.Placeholder,null,(0,o.__)("Nema sličnih objava za prikaz.","similar-posts-plugin")):(0,e.createElement)(n.Spinner,null))},save:()=>null})})();