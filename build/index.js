(()=>{"use strict";const e=window.React,t=window.wp.blocks,o=window.wp.i18n,l=window.wp.blockEditor,s=window.wp.components,n=window.wp.data;(0,t.registerBlockType)("similar-posts/block",{title:(0,o.__)("SliÄne Objave","similar-posts-plugin"),icon:"admin-post",category:"widgets",attributes:{postsToShow:{type:"number",default:2}},edit:({attributes:t,setAttributes:r})=>{const{postsToShow:i}=t,a=(0,l.useBlockProps)(),p=wp.data.select("core/editor").getCurrentPostId(),c=(0,n.useSelect)((e=>{const{getEntityRecords:t}=e("core"),{getEditedPostAttribute:o}=e("core/editor"),l=o("categories");return l&&0!==l.length?t("postType","post",{per_page:i,exclude:[p],categories:l}):[]}),[i]);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(l.InspectorControls,null,(0,e.createElement)(s.PanelBody,{title:(0,o.__)("Settings","similar-posts-plugin")},(0,e.createElement)(s.RangeControl,{label:(0,o.__)("Number of posts to display","similar-posts-plugin"),value:i,onChange:e=>r({postsToShow:e}),min:1,max:4}))),c?c.length>0?(0,e.createElement)("ul",{...a},c.map((t=>(0,e.createElement)("li",{key:t.id},(0,e.createElement)("a",{href:t.link},t.title.rendered))))):(0,e.createElement)(s.Placeholder,null,(0,o.__)("No related posts to display.","similar-posts-plugin")):(0,e.createElement)(s.Spinner,null))},save:()=>null})})();